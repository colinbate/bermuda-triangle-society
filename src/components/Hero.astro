---
import { Image } from "astro:assets";
import heroImage from "../assets/sff-bermudabookclub.webp";

interface Props {
    title?: string;
    subtitle?: string;
    showImage?: boolean;
}

const {
    title = "Bermuda Triangle Society",
    subtitle = "A monthly book club for explorers of science fiction, fantasy, and the wonderfully weird.",
    showImage = true,
} = Astro.props;
---

<section
    class="relative overflow-hidden bg-linear-to-b from-mystic-950 via-mystic-900 to-mystic-800 text-white"
>
    <!-- Starry background -->
    <div class="absolute inset-0 bg-stars opacity-50" aria-hidden="true"></div>

    <!-- Floating particles -->
    <div
        class="absolute inset-0 overflow-hidden pointer-events-none"
        aria-hidden="true"
    >
        <div
            class="absolute top-1/4 left-1/4 w-2 h-2 bg-lantern-400 rounded-full animate-twinkle"
        >
        </div>
        <div
            class="absolute top-1/3 right-1/3 w-1.5 h-1.5 bg-bermuda-400 rounded-full animate-twinkle"
            style="animation-delay: 0.5s;"
        >
        </div>
        <div
            class="absolute top-1/2 left-1/6 w-1 h-1 bg-white rounded-full animate-twinkle"
            style="animation-delay: 1s;"
        >
        </div>
        <div
            class="absolute bottom-1/4 right-1/4 w-2 h-2 bg-mystic-400 rounded-full animate-twinkle"
            style="animation-delay: 0.3s;"
        >
        </div>
        <div
            class="absolute top-1/5 right-1/6 w-1.5 h-1.5 bg-lantern-300 rounded-full animate-twinkle"
            style="animation-delay: 0.7s;"
        >
        </div>
    </div>

    <div class="relative max-w-6xl mx-auto px-4 py-16 md:py-24">
        <div class="grid md:grid-cols-2 gap-8 md:gap-12 items-center">
            <!-- Text Content -->
            <div class="text-center md:text-left">
                <!-- Triangle icon -->
                <div
                    class="inline-flex items-center justify-center w-16 h-16 mb-6 rounded-2xl bg-linear-to-br from-mystic-500/30 to-bermuda-500/30 border border-mystic-400/20 backdrop-blur-sm"
                >
                    <span
                        class="text-3xl text-mystic-200 animate-float relative top-1"
                    >
                        <i class="fa-solid fa-sharp fa-sharp fa-triangle"></i>
                    </span>
                </div>

                <h1
                    class="text-4xl md:text-5xl lg:text-6xl font-display font-bold text-white mb-6 leading-tight"
                >
                    {title}
                </h1>

                <p
                    class="text-lg md:text-xl text-mystic-200 mb-8 leading-relaxed max-w-lg mx-auto md:mx-0"
                >
                    {subtitle}
                </p>

                <!-- CTA Buttons -->
                <div
                    class="flex flex-col sm:flex-row gap-4 justify-center md:justify-start"
                >
                    <slot name="primary-cta">
                        <a href="/themes" class="btn btn-primary">
                            <span>Explore Themes</span>
                            <i class="fa-solid fa-sharp fa-arrow-right ml-2"
                            ></i>
                        </a>
                    </slot>
                    <slot name="secondary-cta">
                        <a
                            href="/submit"
                            class="btn btn-outline border-mystic-400 text-mystic-100 hover:bg-mystic-700 hover:border-mystic-600"
                        >
                            Submit a Theme
                        </a>
                    </slot>
                </div>

                <!-- Next Meeting Teaser -->
                <slot name="meeting-teaser" />
            </div>

            <!-- Hero Image -->
            {
                showImage && (
                    <div class="relative">
                        <div
                            class="absolute -inset-4 bg-linear-to-r from-mystic-500/20 via-bermuda-500/20 to-lantern-500/20 rounded-3xl blur-2xl"
                            aria-hidden="true"
                        />
                        <div class="relative rounded-2xl overflow-hidden shadow-2xl shadow-mystic-950/50 border border-mystic-700/50">
                            <Image
                                src={heroImage}
                                alt="A magical scene with books, a glowing lantern, dragons, spaceships, and fantastical worlds merging together"
                                class="w-full h-auto"
                                loading="eager"
                            />
                            <div class="absolute inset-0 bg-linear-to-t from-mystic-950/60 via-transparent to-transparent" />
                        </div>

                        {/* Decorative elements */}
                        <div
                            class="absolute -top-3 -right-3 text-lantern-400 animate-twinkle"
                            aria-hidden="true"
                        >
                            <i class="fa-solid fa-sharp fa-sparkle text-xl" />
                        </div>
                        <div
                            class="absolute -bottom-2 -left-2 text-bermuda-400 animate-twinkle"
                            style="animation-delay: 0.5s;"
                            aria-hidden="true"
                        >
                            <i class="fa-solid fa-sharp fa-sparkle text-lg" />
                        </div>
                    </div>
                )
            }
        </div>
    </div>

    <!-- Bottom wave decoration -->
    <div
        class="absolute bottom-0 left-0 right-0 overflow-hidden pointer-events-none"
        aria-hidden="true"
    >
        <svg
            class="w-full h-12 md:h-16 text-mystic-50 dark:text-slate-950"
            viewBox="0 0 1200 60"
            preserveAspectRatio="none"
        >
            <path
                d="M0,60 L0,40 Q300,0 600,30 T1200,20 L1200,60 Z"
                fill="currentColor"></path>
        </svg>
    </div>
</section>
